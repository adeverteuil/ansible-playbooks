---
- roles: [named]
  hosts: named
  vars:
    named_forwarders: [206.123.6.230, 199.84.54.230]
    named_allowed_recursion_ips: [127.0.0.1, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16]
    named_zones: |
      zone "iweb.com" IN {
          type forward;
          forwarders { 172.17.131.34; 172.16.131.34; };
      };

      zone "iw.ca" IN {
          type forward;
          forwarders { 172.17.131.34; 172.16.131.34; };
      };
    #none

    #  zone "deverteuil.net" IN {
    #      type master;
    #      file "deverteuil.net.zone";
    #      allow-update { none; };
    #      notify no;
    #  };

#- hosts: named
#  tasks:
#  - name: update DNS zone deverteuil.net
#    file: files/deverteuil.net.zone
#    notify: reload bind
#  handlers:
#  - name: reload bind
#    service: name=named state=reloaded
