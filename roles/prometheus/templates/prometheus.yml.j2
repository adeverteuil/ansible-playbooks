#jinja2: lstrip_blocks: True
---
global:
  scrape_interval:     15s
  evaluation_interval: 15s
  # scrape_timeout is set to the global default (10s).

alerting:
  alertmanagers:
  - static_configs:
    - targets:
      # - alertmanager:9093

# Load rules once and periodically evaluate them according to the global 'evaluation_interval'.
rule_files:
  # - "first_rules.yml"
  # - "second_rules.yml"

scrape_configs:

  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  - job_name: "node"
    static_configs:
      - targets:
      {% for host in groups['all'] %}
          - "{{ host }}:9100"
      {% endfor %}

  #- job_name: "haproxy"
  #  static_configs:
  #    - targets:
  #        - "1.2.3.4:57001"
